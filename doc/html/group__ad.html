<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>SimpleGEL: Funciones de manejo del conversor A/D</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">SimpleGEL
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Funciones de manejo del conversor A/D</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga608b0868c1d1a4ea4a485039aaf9a348"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ad.html#ga608b0868c1d1a4ea4a485039aaf9a348">ad_setUserFunction</a> (void(*ptr)(<a class="el" href="types_8h.html#a273cf69d639a59973b6019625df33e30">uint16_t</a> *))</td></tr>
<tr class="memdesc:ga608b0868c1d1a4ea4a485039aaf9a348"><td class="mdescLeft">&#160;</td><td class="mdescRight">Una posible función prototipo sería: "void userFunction(uint16_t * registros)" donde registros contendrá de 0 a 7 valores, dependiendo del tamaño de la secuencia seleccionada.  <a href="#ga608b0868c1d1a4ea4a485039aaf9a348">More...</a><br /></td></tr>
<tr class="separator:ga608b0868c1d1a4ea4a485039aaf9a348"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4eaae56c5aff4d5147e2e339618d7059"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ad.html#ga4eaae56c5aff4d5147e2e339618d7059">ad_activarInterrupMode</a> (<a class="el" href="types_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> valor)</td></tr>
<tr class="memdesc:ga4eaae56c5aff4d5147e2e339618d7059"><td class="mdescLeft">&#160;</td><td class="mdescRight">Función que activa o desactiva el tratamiento de los registros de datos mediante interrupción.  <a href="#ga4eaae56c5aff4d5147e2e339618d7059">More...</a><br /></td></tr>
<tr class="separator:ga4eaae56c5aff4d5147e2e339618d7059"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6ac7841007a21f5536e9e52cbac82308"><td class="memItemLeft" align="right" valign="top"><a class="el" href="types_8h.html#a273cf69d639a59973b6019625df33e30">uint16_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ad.html#ga6ac7841007a21f5536e9e52cbac82308">ad_wait_for_data</a> ()</td></tr>
<tr class="memdesc:ga6ac7841007a21f5536e9e52cbac82308"><td class="mdescLeft">&#160;</td><td class="mdescRight">Función para esperar a que se termine la conversión, modo Polling. Además, se llamará a la función de usuario en caso de haber sido asignada.  <a href="#ga6ac7841007a21f5536e9e52cbac82308">More...</a><br /></td></tr>
<tr class="separator:ga6ac7841007a21f5536e9e52cbac82308"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8431fe41620d5230316519900f16c863"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ad.html#ga8431fe41620d5230316519900f16c863">ad_ciclos_muestreo</a> (<a class="el" href="types_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> valor, <a class="el" href="types_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> interactivo)</td></tr>
<tr class="memdesc:ga8431fe41620d5230316519900f16c863"><td class="mdescLeft">&#160;</td><td class="mdescRight">el array devuelto el la variable valoresRegistros_[8];  <a href="#ga8431fe41620d5230316519900f16c863">More...</a><br /></td></tr>
<tr class="separator:ga8431fe41620d5230316519900f16c863"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8a38c530be8c019ab05b3da2d3ee6e16"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ad.html#ga8a38c530be8c019ab05b3da2d3ee6e16">ad_ocho_o_diez_bits</a> (<a class="el" href="types_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> valor, <a class="el" href="types_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> interactivo)</td></tr>
<tr class="memdesc:ga8a38c530be8c019ab05b3da2d3ee6e16"><td class="mdescLeft">&#160;</td><td class="mdescRight">Función para seleccionar el valor de la conversión (8 o 10 bits)  <a href="#ga8a38c530be8c019ab05b3da2d3ee6e16">More...</a><br /></td></tr>
<tr class="separator:ga8a38c530be8c019ab05b3da2d3ee6e16"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7e5c4407399baa06e48d9ac5e9fa1681"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ad.html#ga7e5c4407399baa06e48d9ac5e9fa1681">ad_tiempo_muestreo</a> ()</td></tr>
<tr class="memdesc:ga7e5c4407399baa06e48d9ac5e9fa1681"><td class="mdescLeft">&#160;</td><td class="mdescRight">Función para mostrar el tiempo de muestreo.  <a href="#ga7e5c4407399baa06e48d9ac5e9fa1681">More...</a><br /></td></tr>
<tr class="separator:ga7e5c4407399baa06e48d9ac5e9fa1681"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga40f4e2e16e04502e25ce403514e6c7b1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ad.html#ga40f4e2e16e04502e25ce403514e6c7b1">ad_pin_inicio</a> (<a class="el" href="types_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> valor, <a class="el" href="types_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> interactivo)</td></tr>
<tr class="memdesc:ga40f4e2e16e04502e25ce403514e6c7b1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Función para seleccionar el pin de inicio en el microcontrolador.  <a href="#ga40f4e2e16e04502e25ce403514e6c7b1">More...</a><br /></td></tr>
<tr class="separator:ga40f4e2e16e04502e25ce403514e6c7b1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga60a944bf502336a11d89844ea59a42fc"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ad.html#ga60a944bf502336a11d89844ea59a42fc">ad_modulo</a> (<a class="el" href="types_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> valor, <a class="el" href="types_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> interactivo)</td></tr>
<tr class="memdesc:ga60a944bf502336a11d89844ea59a42fc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Función para seleccionar el módulo correspondiente al conversor A/D.  <a href="#ga60a944bf502336a11d89844ea59a42fc">More...</a><br /></td></tr>
<tr class="separator:ga60a944bf502336a11d89844ea59a42fc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga41140cf6948dc042dcf2d1cbe3877eb5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ad.html#ga41140cf6948dc042dcf2d1cbe3877eb5">ad_mostrarValores</a> (<a class="el" href="types_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> soloCambios)</td></tr>
<tr class="memdesc:ga41140cf6948dc042dcf2d1cbe3877eb5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Función que muestra los valores de los registros dependiendo de la configuración. Se puede decidir mostrar solo si se produjeron cambios con respecto a la secuencia anterior.  <a href="#ga41140cf6948dc042dcf2d1cbe3877eb5">More...</a><br /></td></tr>
<tr class="separator:ga41140cf6948dc042dcf2d1cbe3877eb5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga59e3893cdaedc7998194bd03c89ab89a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ad.html#ga59e3893cdaedc7998194bd03c89ab89a">ad_leer_valores</a> (void)</td></tr>
<tr class="memdesc:ga59e3893cdaedc7998194bd03c89ab89a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Función interna de la librería que se encarga de leer los valores de los registros, dependiendo de la cantidad de conversiones seleccionadas. Se asume que la justificación siempre es a izquierda.  <a href="#ga59e3893cdaedc7998194bd03c89ab89a">More...</a><br /></td></tr>
<tr class="separator:ga59e3893cdaedc7998194bd03c89ab89a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7ad6755e3db4606973f0bf028fc8b43c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ad.html#ga7ad6755e3db4606973f0bf028fc8b43c">ad_scanMode</a> (<a class="el" href="types_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> valor, <a class="el" href="types_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> interactivo)</td></tr>
<tr class="memdesc:ga7ad6755e3db4606973f0bf028fc8b43c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Función para activar o desactivar el modo SCAN.  <a href="#ga7ad6755e3db4606973f0bf028fc8b43c">More...</a><br /></td></tr>
<tr class="separator:ga7ad6755e3db4606973f0bf028fc8b43c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga16ff170950823185168ee75bdf1b934f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ad.html#ga16ff170950823185168ee75bdf1b934f">ad_cantidadConversiones</a> (<a class="el" href="types_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> valor, <a class="el" href="types_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> interactivo)</td></tr>
<tr class="memdesc:ga16ff170950823185168ee75bdf1b934f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Función para establecer el número de conversiones a 1, 4 u 8 por secuencia.  <a href="#ga16ff170950823185168ee75bdf1b934f">More...</a><br /></td></tr>
<tr class="separator:ga16ff170950823185168ee75bdf1b934f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa93f7005ca06f2c11bff19f6121738fc"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ad.html#gaa93f7005ca06f2c11bff19f6121738fc">ad_stop</a> ()</td></tr>
<tr class="memdesc:gaa93f7005ca06f2c11bff19f6121738fc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Función que detiene el funcionamiento del módulo analógico digital.  <a href="#gaa93f7005ca06f2c11bff19f6121738fc">More...</a><br /></td></tr>
<tr class="separator:gaa93f7005ca06f2c11bff19f6121738fc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4c434e468f182c7e9336d5118e5966b1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ad.html#ga4c434e468f182c7e9336d5118e5966b1">ad_start</a> ()</td></tr>
<tr class="memdesc:ga4c434e468f182c7e9336d5118e5966b1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Función para completar los parámetros y dar por iniciada la conversión. En ella se hace uso de los atributos globales para usarlos como máscara para completar los registros correctamente.  <a href="#ga4c434e468f182c7e9336d5118e5966b1">More...</a><br /></td></tr>
<tr class="separator:ga4c434e468f182c7e9336d5118e5966b1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga919d08acc3c3d12f7871576a5c41e3de"><td class="memItemLeft" align="right" valign="top"><a class="el" href="types_8h.html#a273cf69d639a59973b6019625df33e30">uint16_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ad.html#ga919d08acc3c3d12f7871576a5c41e3de">ad_returnValores</a> (void)</td></tr>
<tr class="memdesc:ga919d08acc3c3d12f7871576a5c41e3de"><td class="mdescLeft">&#160;</td><td class="mdescRight">Funcion para retornar la posición del array de valores de los registros.  <a href="#ga919d08acc3c3d12f7871576a5c41e3de">More...</a><br /></td></tr>
<tr class="separator:ga919d08acc3c3d12f7871576a5c41e3de"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf054415ce590e3f034f515b7e4681e99"><td class="memItemLeft" align="right" valign="top"><a class="el" href="types_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ad.html#gaf054415ce590e3f034f515b7e4681e99">ad_returnValoresCambiados</a> (void)</td></tr>
<tr class="memdesc:gaf054415ce590e3f034f515b7e4681e99"><td class="mdescLeft">&#160;</td><td class="mdescRight">Funcion para retornar la posicion del array de los valores que han cambiado.  <a href="#gaf054415ce590e3f034f515b7e4681e99">More...</a><br /></td></tr>
<tr class="separator:gaf054415ce590e3f034f515b7e4681e99"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>La rutina de usuario, se ejecutará tanto en el modo initerrupción como en el modo polling. Justo después de leerse los registros de datos correspondientes, se llamará a la rutina de usuario, si así se definió. Prácticamente todas las funciones de la librerían disponen de un modo interactivo, para solicitar al usuario el dato necesario para la configuración de una funcionalidad en concreto. Por supuesto, todas se pueden configurar de forma no interactiva. Los resultados de las lecturas de los registros de datos, se mantendrán actualizadas en un array, ya sea mediante polling o por la rutina de interrupción en caso de así haberlo decidido el programador.</p>
<p>Por defecto los siguientes bits se configuraran de la siguiente manera:</p>
<p>ATDxCTL2 / AFFC = 1 (Basta con acceder a registro de datos para restablecer bit ATDxSTAT0-SCF que indica secuencia terminada ATDxCTL2 / DJM = 0 (Justificación a izquierda) ATDxCTL3 / FIFO = 0 (Modo FIFO desactivado)</p>
<p>Inicialmente, el FIFO estará siempre deshabilitado, y la justificación se trabajará siempre a izquierda. Todo lo demás si se podrá parametrizar. </p>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga4eaae56c5aff4d5147e2e339618d7059"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga4eaae56c5aff4d5147e2e339618d7059">&#9670;&nbsp;</a></span>ad_activarInterrupMode()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ad_activarInterrupMode </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="types_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a>&#160;</td>
          <td class="paramname"><em>valor</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Función que activa o desactiva el tratamiento de los registros de datos mediante interrupción. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">valor</td><td>Si está a 1, se activan las interrupciones, si está a 0, se desactivan</td></tr>
    <tr><td class="paramname">valor</td><td>si 1, se activan las interrupciones, si 0, se desactivan </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga16ff170950823185168ee75bdf1b934f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga16ff170950823185168ee75bdf1b934f">&#9670;&nbsp;</a></span>ad_cantidadConversiones()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ad_cantidadConversiones </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="types_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a>&#160;</td>
          <td class="paramname"><em>valor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="types_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a>&#160;</td>
          <td class="paramname"><em>interactivo</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Función para establecer el número de conversiones a 1, 4 u 8 por secuencia. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">valor</td><td>Valor que se define por defecto, en caso de que el usuario no desee modificar nada </td></tr>
    <tr><td class="paramname">interactivo</td><td>Está a 1 si el usuario quiere interactuar</td></tr>
    <tr><td class="paramname">valor</td><td>valor que se define por defecto, en caso de que el usuario no quiera modificar nada </td></tr>
    <tr><td class="paramname">interactivo</td><td>Está a 1 si el usuario desea interactuar </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga8431fe41620d5230316519900f16c863"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga8431fe41620d5230316519900f16c863">&#9670;&nbsp;</a></span>ad_ciclos_muestreo()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ad_ciclos_muestreo </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="types_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a>&#160;</td>
          <td class="paramname"><em>valor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="types_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a>&#160;</td>
          <td class="paramname"><em>interactivo</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>el array devuelto el la variable valoresRegistros_[8]; </p>
<p>Función para seleccionar el valor de los ciclos de muestreo (2,4,8,16) </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">valor</td><td>Valor que se define por defecto, en caso de que el usuario no desee modificar nada </td></tr>
    <tr><td class="paramname">interactivo</td><td>Está a 1 si el usuario quiere interactuar</td></tr>
  </table>
  </dd>
</dl>
<p>el array devuelto el la variable valoresRegistros_[8];</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">valor</td><td>valor que se define por defecto, en caso de que el usuario no desee modificar nada </td></tr>
    <tr><td class="paramname">interactivo</td><td>está a 1 si el usuario quiere interactuar </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga59e3893cdaedc7998194bd03c89ab89a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga59e3893cdaedc7998194bd03c89ab89a">&#9670;&nbsp;</a></span>ad_leer_valores()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ad_leer_valores </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Función interna de la librería que se encarga de leer los valores de los registros, dependiendo de la cantidad de conversiones seleccionadas. Se asume que la justificación siempre es a izquierda. </p>
<p>primero se copia el estado de los registros actualmente, bueno, de su valor en memoria de los últimos leídos</p>
<p>por defecto, parte de la base de que los valores no han cambiado.</p>
<p>Siempre se comienza leyendo desde el registro cero, ya que el modo FIFO no está contemplado en esta librería. Además se da por hecho que la justificación es a izquierda.</p>
<p>coloco los bits hacia la derecha, para que sea más legible al humano. Doy por hecho que la justificación viene a izquierda.</p>
<p>si son 10 bits</p>
<p>Se entiende que al leer el primer registor de datos, se restablece el bit de secuencia terminada ATDxSTAT0-SCF tal y como se configura por defecto ponieno a 1 el bit ATDxCTL2 - AFFC </p>

</div>
</div>
<a id="ga60a944bf502336a11d89844ea59a42fc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga60a944bf502336a11d89844ea59a42fc">&#9670;&nbsp;</a></span>ad_modulo()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ad_modulo </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="types_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a>&#160;</td>
          <td class="paramname"><em>valor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="types_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a>&#160;</td>
          <td class="paramname"><em>interactivo</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Función para seleccionar el módulo correspondiente al conversor A/D. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">valor</td><td>Valor que se define por defecto, en caso de que el usuario no desee modificar nada </td></tr>
    <tr><td class="paramname">interactivo</td><td>Está a 1 si el usuario quiere interactuar</td></tr>
    <tr><td class="paramname">valor</td><td>valor que se define por defecto, en caso de que el usuario no desee modificar nada </td></tr>
    <tr><td class="paramname">interactivo</td><td>está a 1 si el usuario quiere interactuar </td></tr>
  </table>
  </dd>
</dl>
<p>a modo de confirmación </p>

</div>
</div>
<a id="ga41140cf6948dc042dcf2d1cbe3877eb5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga41140cf6948dc042dcf2d1cbe3877eb5">&#9670;&nbsp;</a></span>ad_mostrarValores()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ad_mostrarValores </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="types_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a>&#160;</td>
          <td class="paramname"><em>soloCambios</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Función que muestra los valores de los registros dependiendo de la configuración. Se puede decidir mostrar solo si se produjeron cambios con respecto a la secuencia anterior. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">soloCambios</td><td>Si soloCambios está a 1, se mostrarán solo los cambios.</td></tr>
    <tr><td class="paramname">soloCambios</td><td>Si soloCambios = 1, se mostrarán solo los cambios. </td></tr>
  </table>
  </dd>
</dl>
<p>solo muestro el valor de los registros si hubo algún cambio de valor con respecto a la lectura anterior</p>
<p>muestro el valor de todos los registros aunque sean iguales a la lectura anterior </p>

</div>
</div>
<a id="ga8a38c530be8c019ab05b3da2d3ee6e16"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga8a38c530be8c019ab05b3da2d3ee6e16">&#9670;&nbsp;</a></span>ad_ocho_o_diez_bits()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ad_ocho_o_diez_bits </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="types_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a>&#160;</td>
          <td class="paramname"><em>valor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="types_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a>&#160;</td>
          <td class="paramname"><em>interactivo</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Función para seleccionar el valor de la conversión (8 o 10 bits) </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">valor</td><td>Valor que se define por defecto, en caso de que el usuario no desee modificar nada </td></tr>
    <tr><td class="paramname">interactivo</td><td>Está a 1 si el usuario quiere interactuar</td></tr>
    <tr><td class="paramname">valor</td><td>valor que se define por defecto, en caso de que el usuario no desee modificar nada </td></tr>
    <tr><td class="paramname">interactivo</td><td>está a 1 si el usuario quiere interactuar </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga40f4e2e16e04502e25ce403514e6c7b1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga40f4e2e16e04502e25ce403514e6c7b1">&#9670;&nbsp;</a></span>ad_pin_inicio()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ad_pin_inicio </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="types_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a>&#160;</td>
          <td class="paramname"><em>valor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="types_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a>&#160;</td>
          <td class="paramname"><em>interactivo</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Función para seleccionar el pin de inicio en el microcontrolador. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">valor</td><td>Valor que se define por defecto, en caso de que el usuario no desee modificar nada </td></tr>
    <tr><td class="paramname">interactivo</td><td>Está a 1 si el usuario quiere interactuar</td></tr>
    <tr><td class="paramname">valor</td><td>valor que se define por defecto, en caso de que el usuario no desee modificar nada </td></tr>
    <tr><td class="paramname">interactivo</td><td>está a 1 si el usuario quiere interactuar </td></tr>
  </table>
  </dd>
</dl>
<p>a modo de confirmación </p>

</div>
</div>
<a id="ga919d08acc3c3d12f7871576a5c41e3de"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga919d08acc3c3d12f7871576a5c41e3de">&#9670;&nbsp;</a></span>ad_returnValores()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="types_8h.html#a273cf69d639a59973b6019625df33e30">uint16_t</a>* ad_returnValores </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Funcion para retornar la posición del array de valores de los registros. </p>
<p>Funcion para retornar la posición del array de valores de los registros. </p>

</div>
</div>
<a id="gaf054415ce590e3f034f515b7e4681e99"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaf054415ce590e3f034f515b7e4681e99">&#9670;&nbsp;</a></span>ad_returnValoresCambiados()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="types_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a>* ad_returnValoresCambiados </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Funcion para retornar la posicion del array de los valores que han cambiado. </p>
<p>Funcion para retornar la posicion del array de los valores que han cambiado. </p>

</div>
</div>
<a id="ga7ad6755e3db4606973f0bf028fc8b43c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga7ad6755e3db4606973f0bf028fc8b43c">&#9670;&nbsp;</a></span>ad_scanMode()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ad_scanMode </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="types_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a>&#160;</td>
          <td class="paramname"><em>valor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="types_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a>&#160;</td>
          <td class="paramname"><em>interactivo</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Función para activar o desactivar el modo SCAN. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">valor</td><td>Valor que se define por defecto, en caso de que el usuario no desee modificar nada En este caso, se activará el modo SCAN </td></tr>
    <tr><td class="paramname">interactivo</td><td>Está a 1 si el usuario quiere interactuar</td></tr>
    <tr><td class="paramname">valor</td><td>valor que se define por defecto, en caso de que el usuario no quiera modificar nada </td></tr>
    <tr><td class="paramname">interactivo</td><td>Está a 1 si el usuario desea interactuar </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga608b0868c1d1a4ea4a485039aaf9a348"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga608b0868c1d1a4ea4a485039aaf9a348">&#9670;&nbsp;</a></span>ad_setUserFunction()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ad_setUserFunction </td>
          <td>(</td>
          <td class="paramtype">void(*)(<a class="el" href="types_8h.html#a273cf69d639a59973b6019625df33e30">uint16_t</a> *)&#160;</td>
          <td class="paramname"><em>ptr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Una posible función prototipo sería: "void userFunction(uint16_t * registros)" donde registros contendrá de 0 a 7 valores, dependiendo del tamaño de la secuencia seleccionada. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ptr</td><td>El parámetro será la dirección de la función del usuario. Recuerde que debe de tener un parámetro en el que recibirá el puntero al array con los valores de los registros.</td></tr>
  </table>
  </dd>
</dl>
<p>Una posible función prototipo sería: "void userFunction(uint16_t * registros)" donde registros contendrá de 0 a 7 valores, dependiendo del tamaño de la secuencia seleccionada.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ptr</td><td>El parámetro será la dirección de la función del usuario. Recuerde que debe de tener un parámetro en el que recibirá el puntero al array con los valores de los registros. Una posible función prototipo sería: "void userFunction(uint16_t * registros)" donde registros contendrá de 0 a 7 valores, dependiendo del tamaño de la secuencia seleccionada </td></tr>
    <tr><td class="paramname">interactivo</td><td>está a 1 si el usuario quiere interactuar </td></tr>
  </table>
  </dd>
</dl>
<p>asignada función definida por el usuario. </p>

</div>
</div>
<a id="ga4c434e468f182c7e9336d5118e5966b1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga4c434e468f182c7e9336d5118e5966b1">&#9670;&nbsp;</a></span>ad_start()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ad_start </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Función para completar los parámetros y dar por iniciada la conversión. En ella se hace uso de los atributos globales para usarlos como máscara para completar los registros correctamente. </p>
<p>Se enciende el módulo correspondiente y se justifican los datos a la izquierda</p>
<p>También se establece ATDxCTL2 - AFFC a 1 para que baste con acceder al registro de datos para restablecer el indicador de secuencia terminada</p>
<p>Se mira el tipo de resolución</p>
<p>Se añade el pin que se va a utilizar </p><pre class="fragment">Dependiendo del valor seleccionado, se activara unos bits u otros para el valor de ciclos de muestreo (SMP0 Y SMP1)
</pre><p> Ciclos de 2, 4, 8 o 16.</p>
<p>2 ciclos</p>
<p>4 ciclos</p>
<p>8 ciclos</p>
<p>16 ciclos</p>
<p>Activo número de conversiones especificado</p>
<p>SC8 = 0 y SC1=1 para 1 conversión</p>
<p>SC8 = 0 y SC1=0 para 4 conversiones</p>
<p>SC8 = 1 y SC1=x para 8 conversiones</p>
<p>Activo o desactivo las interrupciones según valor</p>
<p>si interrupciones habilitadas</p>
<p>permitimos las interrupciones</p>
<p>Deshabilitamos interrupciones</p>
<p>Se desactiva FIFO</p>
<p>Este es el último registro que modifico, ya que el ATDxCTL5, al escribir en él, se aborta la secuencia de conversión actual y comienza una nueva.</p>
<p>Modo scan activado o desactivado </p>

</div>
</div>
<a id="gaa93f7005ca06f2c11bff19f6121738fc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa93f7005ca06f2c11bff19f6121738fc">&#9670;&nbsp;</a></span>ad_stop()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ad_stop </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Función que detiene el funcionamiento del módulo analógico digital. </p>
<p>Se apaga el módulo correspondiente, aún así, no se detiene la secuencia actual</p>
<p>No contiene información, pero la escritura de este registro, aborta la secuencia actual. </p>

</div>
</div>
<a id="ga7e5c4407399baa06e48d9ac5e9fa1681"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga7e5c4407399baa06e48d9ac5e9fa1681">&#9670;&nbsp;</a></span>ad_tiempo_muestreo()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ad_tiempo_muestreo </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Función para mostrar el tiempo de muestreo. </p>
<p>Función para mostrar el tiempo de muestreo. </p>

</div>
</div>
<a id="ga6ac7841007a21f5536e9e52cbac82308"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga6ac7841007a21f5536e9e52cbac82308">&#9670;&nbsp;</a></span>ad_wait_for_data()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="types_8h.html#a273cf69d639a59973b6019625df33e30">uint16_t</a>* ad_wait_for_data </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Función para esperar a que se termine la conversión, modo Polling. Además, se llamará a la función de usuario en caso de haber sido asignada. </p>
<p>ahora se leen los registros según la configuración. Además esta lectura, restablecerá el bit de secuencia terminada al tener ATDxCTL2 / AFFC a 1.</p>
<p>si se estableció una rutina personalizada de usuario, se la llama. </p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Thu Dec 10 2020 11:27:14 for SimpleGEL by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
